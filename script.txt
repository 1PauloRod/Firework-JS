canvas = document.getElementById("canvas");
context = canvas.getContext('2d');

canvas.width = window.innerWidth; 
canvas.height = window.innerHeight;

var len = 600; 
var angle = Math.PI/4;
let angleVel = 0;
let angleAcce;
let gravity = 0.98;


var positionCordaX = canvas.width/2;
var positionCordaY = 0;
function gameLoop(){

    var positionBallX = len * Math.sin(angle);
    var positionBallY = len * Math.cos(angle);
    let force = gravity * Math.sin(angle);
    angleAcce = (-1 * force) / len;
    angleVel += angleAcce;
    angle += angleVel;

    angleVel *= 0.99;

    //draw corda
    context.strokeStyle = "green";
    context.beginPath();
    context.moveTo(positionCordaX, positionCordaY);
    context.lineTo(positionBallX + positionCordaX, positionBallY + positionCordaY);
    context.lineWidth = 6;
    context.stroke();
    context.closePath();


    /*positionBallX+=1
    positionBallY+=5*Math.sin(angle);
    angle+=0.5;*/

    /*positionBallX+=Math.cos(angle);
    positionBallY+=Math.sin(0.1);
    angle+=0.01;*/

    //draw ball
    context.fillStyle = "blue"; 
    context.beginPath();
    context.arc(positionBallX  + positionCordaX, positionBallY + positionCordaY, 50, 0, 2 * Math.PI);
    context.fill();
    context.closePath();

    
    


}


function animate(){
    context.clearRect(0, 0, canvas.width, canvas.height);
    requestAnimationFrame(animate);
    gameLoop();
}
animate();